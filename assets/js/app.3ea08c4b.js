(function(){"use strict";var t={9586:function(t,e,n){var o=n(9242),a=n(678),i=n(3396);const l={key:0},r={key:1},s={class:"tweet-menu-wrapper"},u={class:"tweet-menu"},c=(0,i._)("option",{value:"date"},"Sort by date",-1),d=(0,i._)("option",{value:"likes"},"Sort by likes",-1),p=[c,d],v=["innerHTML"];function m(t,e,n,a,c,d){const m=(0,i.up)("Spinner"),w=(0,i.up)("Tweet"),h=(0,i.up)("TweetForm"),b=(0,i.up)("Modal");return a.isLoading?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(m,{marginTop:20})])):((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",s,[(0,i._)("div",u,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.sortBy=t),name:"sortBy"},p,512),[[o.bM,a.sortBy]])])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.dataSorted,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"tweets",key:t.id},[(0,i.Wm)(w,{onOnSubmit:e=>a.handleLikeSubmit(t),id:t.id,likes:t.likes,name:t.date,imgUrl:t.avatar},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"md-body",innerHTML:a.compiledMarked(t.body)},null,8,v)])),_:2},1032,["onOnSubmit","id","likes","name","imgUrl"])])))),128)),(0,i._)("button",{onClick:e[1]||(e[1]=(...t)=>a.handleModalShow&&a.handleModalShow(...t)),class:"btn btnTweet btnTweetHome"}," New Tweet "),a.showModal?((0,i.wg)(),(0,i.j4)(b,{key:0,onOnClose:a.handleModalShow,title:"New Tweet"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onOnSubmit:a.handleTweetSubmit},null,8,["onOnSubmit"])])),_:1},8,["onOnClose"])):(0,i.kq)("",!0)]))}var w=n(5068),h=n(4870),b=n(6265),_=n.n(b),f=_().create({baseURL:"https://v-twitter-d140a-default-rtdb.europe-west1.firebasedatabase.app",header:{"Content-type":"application/json"}}),g=n(7139);const k={class:"spinner-wrapper"};function y(t,e,n,o,a,l){return(0,i.wg)(),(0,i.iD)("div",k,[(0,i._)("div",{style:(0,g.j5)({width:`${n.width}px`,height:`${n.width}px`,"margin-top":`${n.marginTop}vh`}),class:"spinner"},null,4)])}var S={props:{width:{type:Number,default:80},height:{type:Number,default:80},marginTop:{type:Number,default:0}},setup(){}},M=n(89);const C=(0,M.Z)(S,[["render",y]]);var T=C;const D={class:"tweet"},O={class:"tweet__img-wrapper"},j=["src"],H={class:"tweet__body"},x={class:"tweet__name"},L=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},[(0,i._)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})],-1);function U(t,e,n,o,a,l){return(0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("div",O,[(0,i._)("img",{class:"tweet__img",src:n.imgUrl},null,8,j)]),(0,i._)("div",H,[(0,i._)("span",x,(0,g.zw)(n.name),1),(0,i.WI)(t.$slots,"default"),(0,i._)("p",{onClick:e[0]||(e[0]=(...t)=>o.handleLikeClick&&o.handleLikeClick(...t)),class:"tweet__likes-counter"},[L,(0,i.Uk)(" "+(0,g.zw)(n.likes),1)])])])}var W={props:{id:{required:!0},name:{type:String,required:!0},likes:{type:Number,required:!0},imgUrl:{type:String,default:null}},emits:["onSubmit"],setup(t,{emit:e}){const n=()=>e("onSubmit");return{handleLikeClick:n}}};const Z=(0,M.Z)(W,[["render",U]]);var z=Z;const F=(0,i._)("button",{class:"btn btnPrimary",type:"submit"},"Submit",-1);function N(t,e,n,a,l,r){return(0,i.wg)(),(0,i.iD)("form",{onSubmit:e[1]||(e[1]=(0,o.iM)(((...t)=>a.onSubmit&&a.onSubmit(...t)),["prevent"]))},[(0,i.wy)((0,i._)("textarea",{required:"","onUpdate:modelValue":e[0]||(e[0]=t=>a.text=t),name:"",id:"",cols:"30",rows:"10"},null,512),[[o.nr,a.text]]),F],32)}var $={emits:["onSubmit"],setup(t,{emit:e}){const n=(0,h.iH)(""),o=()=>{e("onSubmit",n.value),n.value=""};return{text:n,onSubmit:o}}};const q=(0,M.Z)($,[["render",N]]);var B=q;const P={class:"modal"},V={class:"modal__header"},Y={class:"modal__title"},A={class:"modal__body"};function I(t,e,n,a,l,r){return(0,i.wg)(),(0,i.j4)(o.uT,{name:"modal"},{default:(0,i.w5)((()=>[(0,i._)("div",P,[(0,i._)("div",{onMousedown:e[2]||(e[2]=(...t)=>a.handleCloseModal&&a.handleCloseModal(...t)),class:"modal__wrapper"},[(0,i._)("div",{onMousedown:e[1]||(e[1]=(0,o.iM)((()=>{}),["stop"])),class:"modal__content"},[(0,i._)("div",V,[(0,i._)("span",Y,(0,g.zw)(n.title),1),(0,i._)("span",{onClick:e[0]||(e[0]=(...t)=>a.handleCloseModal&&a.handleCloseModal(...t)),class:"button-close"},"×")]),(0,i._)("div",A,[(0,i.WI)(t.$slots,"default")])],32)],32)])])),_:3})}var K={props:{title:{type:String,default:"Modal Window"}},emits:["onClose"],setup(t,{emit:e}){const n=()=>{e("onClose")};return{handleCloseModal:n}}};const E=(0,M.Z)(K,[["render",I]]);var R=E,G={components:{Tweet:z,TweetForm:B,Spinner:T,Modal:R},setup(){const t=(0,h.iH)(!0),e=(0,h.iH)([]),n=t=>(0,w.TU)(t,{});(0,i.bv)((()=>o()));const o=()=>{f.get("/tweets.json").then((n=>{const o=[];Object.keys(n.data).forEach((t=>{const e=n.data[t];o.push({id:t,...e})})),e.value=o,t.value=!1})).catch((t=>console.log(t)))},a=(0,h.iH)("date"),l=(0,i.Fl)((()=>e.value.sort(((t,e)=>t[a.value]<e[a.value]?1:t[a.value]>e[a.value]?-1:void 0)))),r=t=>{t.likes+=1,f.put(`/tweets/${t.id}.json`,t).then((()=>{})).catch((t=>console.log(t)))},s=t=>{const e=(0,h.qj)({body:t,avatar:`https://avatars.dicebear.com/api/adventurer/human/${Date.now()}.svg`,likes:0,date:new Date(Date.now()).toLocaleString()});f.post("/tweets.json",e).then((()=>{o(),c()})).catch((t=>console.log(t)))},u=(0,h.iH)(!1),c=()=>{const t=!u.value;u.value=t};return{data:e,sortBy:a,dataSorted:l,handleLikeSubmit:r,handleTweetSubmit:s,compiledMarked:n,isLoading:t,showModal:u,handleModalShow:c}}};const J=(0,M.Z)(G,[["render",m]]);var Q=J;const X=(0,i._)("h1",{class:"title"},"В этом приложении",-1),tt=(0,i._)("ul",{class:"list-items"},[(0,i._)("li",null,"Всё приложение на Composition API 🔥;"),(0,i._)("li",null,"Динамические сортировки масива с любыми данными 🔥;"),(0,i._)("li",null,"Универсальные модальные окна и порталы;"),(0,i._)("li",null,"Прелодер, подвешаный на кнопки и страницы;"),(0,i._)("li",null,"Понимание конекста и новый способ работы с emits;"),(0,i._)("li",null,"Формы, имитация подгзагрузки содержимого и многое другое!")],-1);function et(t,e){return(0,i.wg)(),(0,i.iD)(i.HY,null,[X,tt],64)}const nt={},ot=(0,M.Z)(nt,[["render",et]]);var at=ot;const it={class:"title"};function lt(t,e){return(0,i.wg)(),(0,i.iD)("h1",it,"404 Not Found")}const rt={},st=(0,M.Z)(rt,[["render",lt]]);var ut=st;const ct=(0,a.r5)(),dt=(0,a.p7)({history:ct,routes:[{path:"/",name:"home",component:Q},{path:"/about",name:"about",component:at},{path:"/:CatchAll(.*)",name:"404",component:ut}]});var pt=dt;const vt={class:"wrapper"},mt={class:"container"},wt={class:"wrapper-content"};function ht(t,e,n,o,a,l){const r=(0,i.up)("Header"),s=(0,i.up)("router-view"),u=(0,i.up)("Footer");return(0,i.wg)(),(0,i.iD)("div",vt,[(0,i._)("div",mt,[(0,i.Wm)(r),(0,i._)("main",wt,[(0,i.Wm)(s)]),(0,i.Wm)(u)])])}const bt={class:"navbar"},_t={class:"container"},ft={class:"navbar-content"},gt={class:"navbar-list"};function kt(t,e,n,o,a,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("header",null,[(0,i._)("div",bt,[(0,i._)("div",_t,[(0,i._)("div",ft,[(0,i.Wm)(r,{class:"navbar-logo",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,g.zw)(a.title),1)])),_:1}),(0,i._)("ul",gt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.links,(t=>((0,i.wg)(),(0,i.iD)("li",{class:"navbar-item",key:t.alias},[(0,i.Wm)(r,{class:"navbar-link",to:t.url},{default:(0,i.w5)((()=>[(0,i.Uk)((0,g.zw)(t.title),1)])),_:2},1032,["to"])])))),128))])])])])])}const yt={dev:!0},St=(yt.dev,{title:"VTwitter"}),Mt=[{title:"Home",alias:"home",url:"/"},{title:"About",alias:"about",url:"/about"}];var Ct={data(){return{title:St.title,links:Mt}}};const Tt=(0,M.Z)(Ct,[["render",kt]]);var Dt=Tt,Ot=n.p+"assets/img/github.83d361dc.svg";const jt={class:"footer"},Ht={class:"container"},xt={class:"navbar-list"},Lt=(0,i._)("li",null,[(0,i._)("a",{class:"navbar-link",target:"_blank",href:"https://github.com/ollaweb/vue3-v-twitter"},[(0,i.Uk)("visit my repo "),(0,i._)("img",{src:Ot,alt:"github"})])],-1),Ut=(0,i._)("ul",{class:"navbar-list",style:{"margin-top":"14px"}},[(0,i._)("li",{class:"navbar-item",style:{opacity:"0.6","font-size":"14px"}},[(0,i._)("a",{href:"https://tocode.ru",class:"navbar-link"},'Сделано на курсе "Vue.js 3"')])],-1);function Wt(t,e,n,o,a,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("footer",jt,[(0,i._)("div",Ht,[(0,i._)("ul",xt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.links,(t=>((0,i.wg)(),(0,i.iD)("li",{class:"navbar-item",key:t.alias},[(0,i.Wm)(r,{class:"navbar-link",to:t.url},{default:(0,i.w5)((()=>[(0,i.Uk)((0,g.zw)(t.title),1)])),_:2},1032,["to"])])))),128)),Lt]),Ut])])}var Zt={data(){return{links:Mt}}};const zt=(0,M.Z)(Zt,[["render",Wt]]);var Ft=zt,Nt={components:{Header:Dt,Footer:Ft}};const $t=(0,M.Z)(Nt,[["render",ht]]);var qt=$t;const Bt=(0,o.ri)(qt);Bt.use(pt),Bt.mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,i){if(!o){var l=1/0;for(c=0;c<t.length;c++){o=t[c][0],a=t[c][1],i=t[c][2];for(var r=!0,s=0;s<o.length;s++)(!1&i||l>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[s])}))?o.splice(s--,1):(r=!1,i<l&&(l=i));if(r){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[o,a,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/vue3-v-twitter/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,i,l=o[0],r=o[1],s=o[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(s)var c=s(n)}for(e&&e(o);u<l.length;u++)i=l[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(c)},o=self["webpackChunkv_twitter"]=self["webpackChunkv_twitter"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9586)}));o=n.O(o)})();